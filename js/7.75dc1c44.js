(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{1662:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=this,i=t.$createElement,o=t._self._c||i;return o("q-page",{staticClass:"col"},[o("div",{staticClass:"q-pa-md items-start q-gutter-sm"},[o("q-card",{staticClass:"bg-standard"},[o("q-card-section",[o("q-file",{attrs:{filled:"","bottom-slots":"",label:"File",counter:""},on:{input:t.onInput},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"cloud_upload"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){e.stopPropagation(),t.file=null}}})]},proxy:!0}]),model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),o("q-separator"),o("q-card-section",{scopedSlots:t._u([{key:"hint",fn:function(){return[t._v("Please select a file")]},proxy:!0}])},[o("q-btn",{attrs:{color:"purple",label:"Key"},on:{click:function(){e.$q.notify("secret key is: "+e.key)}}}),o("q-btn",{attrs:{color:"standard","text-color":"black",label:"Clear"},on:{click:t.clear}})],1),o("q-card-section",[o("q-list",{attrs:{bordered:"",padding:""}},[o("q-item-label",{attrs:{header:""}},[t._v("Request result from file.io")]),o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"clipboard",rawName:"v-clipboard:copy",value:t.link,expression:"link",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){e.$q.notify("You just copied the link")},expression:"() => {this.$q.notify('You just copied the link');}",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(){e.$q.notify({color:"negative",position:"top",message:"Failed to copy texts",icon:"report_problem"})},expression:"() => {this.$q.notify({color: 'negative',position: 'top',message: 'Failed to copy texts',icon: 'report_problem',});}",arg:"error"}],staticClass:"bg-teal-1 text-grey-8",attrs:{clickable:""}},[o("q-item-section",[o("q-item-label",[t._v("Link")]),o("q-item-label",{attrs:{caption:""}},[t._v(t._s(this.link))])],1)],1),o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"clipboard",rawName:"v-clipboard:copy",value:t.fileKey,expression:"fileKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){e.$q.notify("You just copied the key")},expression:"() => {this.$q.notify('You just copied the key');}",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(){e.$q.notify({color:"negative",position:"top",message:"Failed to copy texts",icon:"report_problem"})},expression:"() => {this.$q.notify({color: 'negative',position: 'top',message: 'Failed to copy texts',icon: 'report_problem',});}",arg:"error"}],attrs:{clickable:""}},[o("q-item-section",[o("q-item-label",[t._v("File Key")]),o("q-item-label",{attrs:{caption:""}},[t._v(t._s(this.fileKey))])],1)],1),o("q-item",{staticClass:"text-orange"},[o("q-item-section",[o("q-item-label",[t._v("Expiry")]),o("q-item-label",{attrs:{caption:""}},[t._v(t._s(this.expiry))])],1)],1)],1)],1)],1)],1)])},a=[],n=(i("e762"),{name:"Ephemeral",data(){return{response:"",key:"",link:"",expiry:"",file:null,fileKey:"",file_json:{name:"",base64:""}}},created(){this.key=Math.floor(Math.random()*Math.floor(1e3)).toString(),this.$q.notify("secret key is: "+this.key)},methods:{onInput:function(){var e=this,t=new FileReader,i=e.file;e.file_json.name=i.name,t.onload=function(t){return function(t){var i=t.target.result,o=window.btoa(i);e.file_json.base64=o;var a=JSON.stringify(e.file_json),n=e.CryptoJS.AES.encrypt(a,e.key).toString();const r=new Blob([n],{type:"text/plain"});var s=new FormData;s.append("file",r),e.$axios.post("https://file.io/?expires=1d",s,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{e.response=t,e.fileKey=t.data.key,e.link=t.data.link,e.expiry=t.data.expiry,e.$q.notify("File uploaded.")}).catch(t=>{e.$q.notify({color:"negative",position:"top",message:t,icon:"report_problem"})})}}(),t.readAsBinaryString(i)},clear:function(){this.file=null,this.response="",this.fileKey="",this.link="",this.expiry=""}}}),r=n,s=i("2877"),l=Object(s["a"])(r,o,a,!1,null,null,null);t["default"]=l.exports}}]);